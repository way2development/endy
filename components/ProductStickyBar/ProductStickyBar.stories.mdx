import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs'

import { ProductStickyBar } from './ProductStickyBar'

{/* Module is wrapped in transform: 'scale(1)' so that it is positioned correctly in storybook as the sticky bar is a fixed element. */}

export const Template = (args) => (
  <div
    style={{
      position: 'relative',
      width: '100%',
      height: '200px',
      transform: 'scale(1)'
    }}
  >
    <ProductStickyBar {...args} />
  </div>
)

<Meta title='Modules/Product Sticky Bar' component={ProductStickyBar} />

# Product Sticky Bar

The sticky bar module appears on the product detail pages so users can easily navigate to the shop module when scrolling content further down the page. On desktop, the sticky bar is fixed underneath the navigation and on mobile it is fixed to the bottom of the screen.

On click of the button within the sticky bar, the user is automatically scroll up the page to the shop module.

# Default

<Canvas>
  <Story
    name='Default'
    args={{
      locale: 'en',
      offset: -10,
      product: {
        name: 'The Endy Mattress',
        priceRange: {
          minVariantPrice: 675
        }
      }
    }}
  >
    {Template.bind()}
  </Story>
</Canvas>

# On Sale

For fixed amount and percentage sales, the sale price appears in the sticky bar.

<Canvas>
  <Story
    name='On Sale'
    args={{
      locale: 'en',
      offset: -10,
      product: {
        id: 420850864,
        name: 'The Endy Mattress',
        priceRange: {
          minVariantPrice: 675
        }
      },
      sales: {
        saleType: 'Fixed Amount',
        discountValue: 10,
        discountValueProducts: [420850864]
      }
    }}
  >
    {Template.bind()}
  </Story>
</Canvas>

### Product Sticky Bar Props

<ArgsTable of={ProductStickyBar} />
